function _typeof(t){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var PLAYHT__VOICES_NAMES={Amy:"Amy (en-UK)",Astrid:"Astrid (sv-Swedish)",Brian:"Brian (en-UK)",Carla:"Carla (it-Italian)",Carmen:"Carmen (ro-Romanian)",Celine:"Celine (fr-French)",Chantal:"Chantal (fr-Canadian French)",Conchita:"Conchita (es-Spanish - Castilian)",Cristiano:"Cristiano (pt-European Portuguese)",Dora:"Dora (is-Icelandic)",Emma:"Emma (en-UK)",Enrique:"Enrique (es-Spanish - Castilian)",Ewa:"Ewa (pl-Polish)",Filiz:"Filiz (tr-Turkish)",Geraint:"Geraint (en-Welsh)",Giorgio:"Giorgio (it-Italian)",Gwyneth:"Gwyneth (cy-Welsh)",Hans:"Hans (de-German)",Ines:"Ines (pt-European Portuguese)",Jacek:"Jacek (pl-Polish)",Jan:"Jan (pl-Polish)",Joanna:"Joanna (en-US)",Joey:"Joey (en-US)",Karl:"Karl (is-Icelandic)",Liv:"Karl (nb-Norwegian)",Lotte:"Lotte (nl-Dutch)",Mads:"Mads (da-Danish)",Maja:"Maja (pl-Polish)",Marlene:"Marlene (de-German)",Mathieu:"Mathieu (fr-French)",Matthew:"Matthew (en-US)",Maxim:"Maxim (ru-Russian)",Mizuki:"Mizuki (jp-Japanese)",Naja:"Naja (da-Danish)",Nicole:"Nicole (en-Australian)",Raveena:"Raveena (en-India)",Ricardo:"Ricardo (pt-Brazilian Portuguese)",Ruben:"Ruben (nl-Dutch)",Russell:"Russell (en-Australian)",Salli:"Salli (en-US)",Tatyana:"Tatyana (ru-Russian)",Vicki:"Vicki (de-German)",Vitoria:"Vitoria (pt-Brazilian Portuguese)","de-DE_BirgitVoice":"Birgit (de-German)","de-DE_DieterVoice":"Dieter (de-German)","en-GB_KateVoice":"Kate (en-UK)","en-US_AllisonVoice":"Samantha (en-US)","en-US_LisaVoice":"Lisa (en-US)","en-US_MichaelVoice":"Michael (en-US)","es-ES_EnriqueVoice":"Diego (es-Spanish - Castilian)","es-ES_LauraVoice":"Laura (es-Spanish - Castilian)","fr-FR_ReneeVoice":"Renee (fr-French)","it-IT_FrancescaVoice":"Francesca (it-Italian)","ja-JP_EmiVoice":"Emi (jp-Japanese)","pt-BR_IsabelaVoice":"Isabela (pt-Brazilian Portuguese)"};function playht__getDate(t){if(void 0===t)return"DD MM, YY";var a=new Date(t);return a.getDate()+" "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][a.getMonth()]+"  "+a.getFullYear()}function playht__getTime(t){if(void 0===t)return"DD MM, YY";var a=new Date(1e3*t);return a.getDate()+" "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][a.getMonth()]+", "+a.getFullYear()}function reload_iframe(t,a){var e={whitelabel:jQuery("#play-dashboard-conf-whitelabel-checkbox")[0].checked,download:jQuery("#play-dashboard-conf-download-checkbox")[0].checked,speed:jQuery("#play-dashboard-conf-speed-checkbox")[0].checked,share:jQuery("#play-dashboard-conf-share-checkbox")[0].checked,background:jQuery("#play-dashboard-conf-background-checkbox")[0].checked,subscription:jQuery("#play-dashboard-conf-subscription-checkbox")[0].checked,download_button_text:document.getElementById("dashboard-player-download_button_text-input").value,speed_button_text:document.getElementById("dashboard-player-speed_button_text-input").value,subscribe_button_text:document.getElementById("play-dashboard-conf-subscribe-text").value,color:document.getElementById("dashboard-color-picker").value,title:document.getElementById("dashboard-player-title-input").value,message:document.getElementById("dashboard-player-marketing-message-input").value,url:document.getElementById("dashboard-player-marketing-message-url-input").value,twitterMessage:document.getElementById("dashboard-player-twitter-message-input").value,facebookMessage:document.getElementById("dashboard-player-facebook-message-input").value},s=JSON.stringify(e);jQuery("#play-dashboard-conf-save-btn")[0].disabled=!1,document.getElementById("audio-player-demo").src="https://play.ht/embed/?demo=true&config="+s+"&appId="+t.appId+"&userId="+a}jQuery(function(t){if(window.wppp_retrieve){var a=window.wppp_retrieve.user_id,e=window.location.host,s=!1,o=0;localStorage.hasOwnProperty("playht_setting_tab")&&(t("[data-onclick='tab']").removeClass("active"),t('[data-tabname="'.concat(localStorage.playht_setting_tab_name,'"]')).addClass("active"),t(".play-dashboard-tab").hide(),t("#play-dashboard-tab-".concat(localStorage.playht_setting_tab)).show()),t("[data-onclick='tab']").on("click",function(e){t("[data-onclick='tab']").removeClass("active"),localStorage.playht_setting_tab_name=t(this).data("tabname"),localStorage.playht_setting_tab=t(this).data("tab"),e.target.classList.add("active"),t(".play-dashboard-tab").hide(),t("#play-dashboard-tab-"+e.target.dataset.tab).show(),window.__playht__analytics&&window.__playht__analytics("playht__analytics.send","event","click","dashboard_tab_"+e.target.dataset.tabname,a)});""!=a&&firebase.database().ref("users/"+a).once("value").then(function(n){var i=n.val();null!==i&&(!function(n){var i=!0,d=!1,l=enable_ap,r="Download",c=!1,p=!1,u="Speed",h="Subscribe",b=!1,_=!1,g="19bc9c",y="Listen to this article",v="Powered by Play.ht",m="",f="Listening to {article_title} by {author_name} via @play_ht - convert your articles to audio. Visit {article_url}",k="Listening to {article_title} by {author_name} via https://play.ht/ - convert your articles to audio. Visit {article_url}";n.epconf&&(n.epconf.whitelabel&&(_=n.epconf.whitelabel),n.epconf.download&&(d=n.epconf.download),n.epconf.speed&&(c=n.epconf.speed),n.epconf.share&&(p=n.epconf.share),n.epconf.subscription&&(b=n.epconf.subscription),n.epconf.background||(i=n.epconf.background),n.epconf.color&&(g=n.epconf.color),n.epconf.title&&(y=n.epconf.title),n.epconf.message&&(v=n.epconf.message),n.epconf.download_button_text&&(r=n.epconf.download_button_text),n.epconf.speed_button_text&&(u=n.epconf.speed_button_text),n.epconf.subscribe_button_text&&(h=n.epconf.subscribe_button_text),n.epconf.subscribe_placeholder_text&&(subscribe_placeholder_text=n.epconf.subscribe_placeholder_text),n.epconf.url&&(m=n.epconf.url),n.epconf.twitterMessage&&(f=n.epconf.twitterMessage),n.epconf.facebookMessage&&(k=n.epconf.facebookMessage)),void 0!==n.packages&&null!=n.packages&&Object.keys(n.packages).length>0&&(s=!0);var w,S,x={whitelabel:_,download:d,speed:c,share:p,background:i,subscription:b,download_button_text:r.replace(/'/g,"&apos;"),speed_button_text:u.replace(/'/g,"&apos;"),subscribe_button_text:h.replace(/'/g,"&apos;"),color:g,title:y.replace(/'/g,"&apos;"),message:v.replace(/'/g,"&apos;"),url:m,twitterMessage:f.replace(/'/g,"&apos;"),facebookMessage:k.replace(/'/g,"&apos;")},D=JSON.stringify(x);if(t(".js-play-dashboard-tab-6")[0].innerHTML="\n\t\t<div class=\"player-shadow minimal\">\n\t\t\t<iframe id='audio-player-demo' src='https://play.ht/embed/?demo=true&config="+D+"&appId="+n.appId+"&userId="+a+'\' height="90px" width="100%" frameborder="0" scrolling="no" allowfullscreen></iframe>\n\t\t</div>\n\t\t<div class="conf-wrapper">\n\t\t\t<div class="_conf">\n\t\t\t\t<div class="radio">\n\t\t\t\t\t<input id="play-dashboard-conf-ap-checkbox" type="checkbox" data-onclick="playht__toggleapButton" name="enableap" '+(l?" checked":"")+'>\n\t\t\t\t\t<label class="radio-label">Article Player Enabled</label>\n\t\t\t\t</div>\n\t\t\t\t<div class="_desc">Shows or hides the Article Player in all your articles those have audio.</div>\n\t\t\t</div>\n\t\t\t<div class="_conf">\n\t\t\t\t<div class="radio">\n\t\t\t\t\t<input id="play-dashboard-conf-background-checkbox" type="checkbox" data-onclick="playht__togglebackgroundButton" name="enableBackground" '+(i?" checked":"")+'>\n\t\t\t\t\t<label class="radio-label">Enable Background</label>\n\t\t\t\t</div>\n\t\t\t\t<div class="_desc">Adds a subtle background to the player so it\'s more eye-catching and works on more site backgrounds.</div>\n\t\t\t</div>\n\t\t\t<div class="_conf">\n\t\t\t\t<div class="radio">\n\t\t\t\t\t<input id="play-dashboard-conf-download-checkbox" type="checkbox" data-onclick="playht__toggleDownloadButton" name="download" '+(d?" checked":"")+'>\n\t\t\t\t\t<label class="radio-label">Enable Download Button</label>\n\t\t\t\t</div>\n\t\t\t\t<div class="_desc">Adds a Download button on the Audio Player so users can download your article as an audio file.</div>\n\t\t\t\t<div class="_desc" style="margin-top: 3px;"><input id="dashboard-player-download_button_text-input" type="text" value="'+r+'"></div>\n\t\t\t</div>\n\t\t\t<div class="_conf">\n\t\t\t\t<div class="radio">\n\t\t\t\t\t<input id="play-dashboard-conf-speed-checkbox" type="checkbox" data-onclick="playht__toggleSpeedButton" name="speed" '+(c?" checked":"")+'>\n\t\t\t\t\t<label class="radio-label">Enable Speed Button</label>\n\t\t\t\t</div>\n\t\t\t\t<div class="_desc">Adds a Speed button on the Audio Player so users can control the speed of the audio.</div>\n\t\t\t\t<div class="_desc" style="margin-top: 3px;"><input id="dashboard-player-speed_button_text-input" type="text" value="'+u+'"></div>\n\t\t\t</div>\n\t\t\t<div class="_conf">\n\t\t\t\t<div class="radio">\n\t\t\t\t\t<input id="play-dashboard-conf-share-checkbox" type="checkbox" data-onclick="playht__toggleShareButton" name="share" '+(p?" checked":"")+'>\n\t\t\t\t\t<label class="radio-label">Enable Share Buttons</label>\n\t\t\t\t</div>\n\t\t\t\t<div class="_desc">Adds a Share buttons on the Audio Player so users can share the audio.</div>\n\t\t\t</div>\n\t\t\t<div class="_conf">\n\t\t\t\t<div class="radio">\n\t\t\t\t\t<input id="play-dashboard-conf-subscription-checkbox" type="checkbox" data-onclick="playht__toggleSubscription" name="subscription" '+(b&&s?" checked":"")+'>\n\t\t\t\t\t<label class="radio-label">Enable Email Subscriptions</label>\n\t\t\t\t</div>\n\t\t\t\t<div class="_desc">Allow readers to sign up for future audio articles.</div>\n\t\t\t\t<input type="text" class="conf-text-input" id="play-dashboard-conf-subscribe-text" placeholder="Subscribe button text" style="margin: 5px 0px 0px 36px;" value="'+h+'">\n\t\t\t</div>\n\t\t\t<div class="_conf">\n\t\t\t\t<div class="radio">\n\t\t\t\t\t<input id="play-dashboard-conf-whitelabel-checkbox" type="checkbox" data-onclick="playht__toggleMarketingMessage" name="whitelabel" '+(_&&s?" checked":"")+'>\n\t\t\t\t\t<label class="radio-label">Whitelabel Player</label>\n\t\t\t\t</div>\n\t\t\t\t<div class="_desc">Removes Play.ht marketing message from the Audio Player.</div>\n\t\t\t</div>\n\t\t\t<div class="_conf">\n\t\t\t\t<div class="_title">Customize The Title</div>\n\t\t\t\t<div class="_desc" style="margin-top: 3px;">Title: <input id="dashboard-player-title-input" type="text" value="'+y+'"></div>\n\t\t\t</div>\n\t\t\t<div class="_conf">\n\t\t\t\t<div class="_title">Add Custom Marketing Message</div>\n\t\t\t\t<div class="_desc" style="margin-top: 3px;">Message: <input id="dashboard-player-marketing-message-input" type="text" value="'+v+'"></div>\n\t\t\t</div>\n\t\t\t<div class="_conf">\n\t\t\t\t<div class="_title">Add Custom Marketing Message URL</div>\n\t\t\t\t<div class="_desc" style="margin-top: 3px;">URL: <input id="dashboard-player-marketing-message-url-input" type="text" value="'+m+'"></div>\n\t\t\t</div>\n\t\t\t<div class="_conf">\n\t\t\t\t<div class="_title">Share on twitter message</div>\n\t\t\t\t<div class="_desc" style="margin-top: 3px;">message: <input id="dashboard-player-twitter-message-input" type="text" value="'+f+'"></div>\n\t\t\t</div>\n\t\t\t<div class="_conf">\n\t\t\t\t<div class="_title">Share on facebook message</div>\n\t\t\t\t<div class="_desc" style="margin-top: 3px;">message: <input id="dashboard-player-facebook-message-input" type="text" value="'+k+'"></div>\n\t\t\t</div>\n\t\t\t<div class="_conf">\n\t\t\t\t<div class="_title">Change Player Color</div>\n\t\t\t\t<div class="_desc" style="margin-top: 3px;">Color: <input id="dashboard-color-picker" class="_color-picker" value="'+g+'"></div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div style="width: 100%;left: 0;background: #fff;padding-top: 20px;-webkit-box-sizing: border-box;-moz-box-sizing: border-box;box-sizing: border-box;border-top: 1px solid #ddd;">\n\t\t\t<button id="play-dashboard-conf-save-btn" class="_save-btn medium-button medium-button--primary medium-button--filled medium-button--withChrome u-accentColor-- buttonNormal is-touched" type="button" data-onclick="playht__saveEPConf">Save Changes</button>\n\t\t\t<span id="play-dashboard-conf-save-msg" style="display: none;">Saved!</span>\n\t\t</div>\n\t\t',s||t("#play-dashboard-conf-save-btn").text("Upgrade to save"),document.getElementById("dashboard-color-picker").style.cursor="pointer",document.getElementById("dashboard-color-picker").disabled=!1,playht__jscolor&&new playht__jscolor(document.getElementById("dashboard-color-picker")),document.getElementById("dashboard-color-picker").onchange=function(t){reload_iframe(n,a)},document.getElementById("dashboard-player-marketing-message-input").onkeyup=function(t){reload_iframe(n,a)},document.getElementById("dashboard-player-title-input").onkeyup=function(t){reload_iframe(n,a)},document.getElementById("dashboard-player-download_button_text-input").onkeyup=function(t){reload_iframe(n,a)},document.getElementById("dashboard-player-speed_button_text-input").onkeyup=function(t){reload_iframe(n,a)},document.getElementById("play-dashboard-conf-subscribe-text").onkeyup=function(t){reload_iframe(n,a)},t("[data-onclick='playht__toggleMarketingMessage']").on("click",function(t){reload_iframe(n,a)}),t("[data-onclick='playht__toggleDownloadButton']").on("click",function(t){reload_iframe(n,a)}),t("[data-onclick='playht__togglebackgroundButton']").on("click",function(t){reload_iframe(n,a)}),t("[data-onclick='playht__toggleSpeedButton']").on("click",function(t){reload_iframe(n,a)}),t("[data-onclick='playht__toggleShareButton']").on("click",function(t){reload_iframe(n,a)}),t("[data-onclick='playht__toggleSubscription']").on("click",function(t){reload_iframe(n,a)}),t("[data-onclick='playht__saveEPConf']").on("click",function(o){if(!s)return t("<a>").attr("href","https://play.ht/wordpress/upgrade/").attr("target","_blank")[0].click(),void(window.__playht__analytics&&window.__playht__analytics("playTracker.send","event","click","dashboard_customization_upgrade_clicked",e,{dimension2:"".concat(a," - ").concat(e)}));window.__playht__analytics&&window.__playht__analytics("playTracker.send","event","click","dashboard_customization_save_clicked",e,{dimension2:"".concat(a," - ").concat(e)});var n=t("#play-dashboard-conf-ap-checkbox")[0].checked;en_ap=n?1:"",jQuery.ajax({type:"POST",url:wppp_retrieve.ajax_url,data:{enable_ap:en_ap,action:"retrieve_article_enable"}}),t("#play-dashboard-conf-save-btn")[0].disabled=!0,t("#play-dashboard-conf-save-btn").text("Saving..."),t.post("https://play.ht/api/saveEPConf",{userId:a,whitelabel:t("#play-dashboard-conf-whitelabel-checkbox")[0].checked,download:t("#play-dashboard-conf-download-checkbox")[0].checked,background:t("#play-dashboard-conf-background-checkbox")[0].checked,download_button_text:document.getElementById("dashboard-player-download_button_text-input").value==r?"":document.getElementById("dashboard-player-download_button_text-input").value,speed:t("#play-dashboard-conf-speed-checkbox")[0].checked,speed_button_text:document.getElementById("dashboard-player-speed_button_text-input").value==u?"":document.getElementById("dashboard-player-speed_button_text-input").value,subscribe_button_text:document.getElementById("play-dashboard-conf-subscribe-text").value==u?"":document.getElementById("play-dashboard-conf-subscribe-text").value,share:t("#play-dashboard-conf-share-checkbox")[0].checked,subscription:t("#play-dashboard-conf-subscription-checkbox")[0].checked,color:document.getElementById("dashboard-color-picker").value,title:document.getElementById("dashboard-player-title-input").value==y?"":document.getElementById("dashboard-player-title-input").value,message:document.getElementById("dashboard-player-marketing-message-input").value==v?"":document.getElementById("dashboard-player-marketing-message-input").value,url:document.getElementById("dashboard-player-marketing-message-url-input").value,twitterMessage:document.getElementById("dashboard-player-twitter-message-input").value,facebookMessage:document.getElementById("dashboard-player-facebook-message-input").value},function(a){a?(t("#play-dashboard-conf-save-msg").show().css("color","red").text("Saving UI settings failed, please try again later or contact us to help."),setTimeout(function(){t("#play-dashboard-conf-save-msg").hide()},3e3)):(t("#play-dashboard-conf-save-msg").show().css("color","#21b67e").text("Settings have been Saved Successfully"),setTimeout(function(){t("#play-dashboard-conf-save-msg").hide()},3e3)),t("#play-dashboard-conf-save-btn")[0].disabled=!1,t("#play-dashboard-conf-save-btn").text("Save Changes")})}),void 0!==n.usage&&void 0!==n.usage.words_count&&(o+=Number(n.usage.words_count)),void 0!==n.usage&&void 0!==n.usage.appsumo_words&&(o+=Number(n.usage.appsumo_words)),s){for(var I="",E=Object.keys(n.packages),M=0;M<E.length;M++){var A=n.packages[E[M]];I=A.name?I+"<p class='_package_name'><span class='_package_meta playht-bold'>Package Name: </span><span class='playht-small-bold'>"+A.name+"</span></p>":I}var B='\n        <div class="playht-account-details">\n          <div class="_account_type">\n            <p class="_title"><span class="playht-bold">Account Type:</span> <span class="_meta playht-small-bold">PAID</span></p>\n            <p class="_meta_credits"><span class="playht-bold">Remaining Words: </span><span class="playht-small-bold">'+o+'</span></p>\n          </div>\n          <div id="packages">'+I+'</div>\n          <div class="_logout">\n            <p class="_title"><span class="playht-bold">Logged In as: </span><span class="_meta playht-small-bold">'+(n.email||n.name)+'</span></p>\n            <button class="button button-primary"><a href="https://play.ht/wordpress/login/?logout=1&backurl='+window.location.href+'">Login to another account</a></button>\n          </div>\n        </div>\n\t\t\t';t("#play-dashboard-tab-2").html(B)}else t(".playHtsubmit_button_area").html('<button class="_save-btn medium-button medium-button--primary medium-button--filled medium-button--withChrome u-accentColor-- buttonNormal is-touched" type="button" data-onclick="playht__saveEPConf"><a href="https://play.ht/wordpress/upgrade/" target="_blank">Upgrade to save</a></button>'),B='\n        <div class="playht-account-details">\n          <div class="_account_type">\n            <p class="_title"><span class="playht-bold">Account Type: </span><span class="_meta playht-small-bold">FREE</span></p>\n            <p class="_meta_credits"><span class="playht-bold">Remaining Words: </span><span class="playht-small-bold">'+o+'</span></p>\n          </div>\n          <div class="_logout">\n            <p class="_title"><span class="playht-bold">Logged In as: </span></p>\n            <p class="_meta">'+(n.email||n.name)+'</p>\n            <button class="button button-primary"><a href="https://play.ht/wordpress/login/?logout=1&backurl='+window.location.href+'">Login to another account</a></button>\n          </div>\n        </div>\n\t\t\t\t<div class="_account_missing">\n\t\t\t\t\t<div class="_title">You are missing out on these great features that are included in the paid package:</div>\n\t\t\t\t\t<div class="_meta">\n\t\t\t\t\t\t<div class="_meta_t">Premium voices</div>\n\t\t\t\t\t\t<div class="_meta_m">More natural and human like voices that offer increased engagment to listeners.</div>\n\t\t\t\t\t\t<div class="_meta_t">Stats</div>\n\t\t\t\t\t\t<div class="_meta_m">Analytics that show you the number of people listening to your articles.</div>\n\t\t\t\t\t\t<div class="_meta_t">Audio Player Customizations</div>\n\t\t\t\t\t\t<div class="_meta_m">Change the look and feel of the Audio Player, including <strong>white-labeling</strong> the player.</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="_act">\n\t\t\t\t\t\t<a style="font-size: 14px;" target="_blank" data-onclick="accountUpgrade" class="medium-button medium-button--primary medium-button--filled medium-button--withChrome u-accentColor-- buttonNormal is-touched" href="https://play.ht/wordpress/upgrade/">\n\t\t\t\t\t\tUpgrade Account\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t',t("#play-dashboard-tab-2").html(B),t("[data-onclick='accountUpgrade']").on("click",function(t){window.__playht__analytics&&window.__playht__analytics("playTracker.send","event","click","dashboard_account_upgrade_clicked",e,{dimension2:"".concat(a," - ").concat(e)})});var C,T;!function a(){var e=[],s=[],o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];void 0!==w&&t("#dashboard-subscribers-stats-loader").show();var i=[w,S];if(void 0===w){var d=(new Date).toISOString().split(".")[0]+"Z",l=new Date;l.setDate(l.getDate()-13),i=[l=l.toISOString().split(".")[0]+"Z",d]}var r=new Date(i[1])-new Date(i[0]),c=Math.round(r/864e5);e=[];var p=new Date(i[0]);e.push(p.getDate().toString()+"-"+o[p.getMonth()]);for(var u=1;u<=c;u++)p.setDate(p.getDate()+1),e.push(p.getDate().toString()+"-"+o[p.getMonth()]);s=[];var h=i[0].split("T")[0],b=i[1].split("T")[0];if(w&&((h=new Date(i[0])).setDate(h.getDate()+1),h=h.toISOString().split("T")[0],(b=new Date(i[1])).setDate(b.getDate()+1),b=b.toISOString().split("T")[0]),n.appId){var _=function(){0!=s.length&&(t(".sub-stats-head").show(),t(".sub-stats-filter").show(),t("#dashboard-subscribers-stats-loader").hide(),Highcharts.chart("dashboard-subscribers-stats",{chart:{type:"column",height:280,width:t(".dashboard-container").width()-.1*t(".dashboard-container").width()},title:{text:""},legend:{enabled:!1},xAxis:{categories:e},yAxis:{title:""},series:[{name:"Subscribers",data:s}]}))},g="https://a.play.ht/subscribtions/"+(O?"/article":"")+"?app_id="+n.appId+"&created_at__gte="+h+"&created_at__lte="+b+(O?"&article_id="+O:"");fetch(g).then(function(t){t.text().then(function(t){if(t.aggregations&&t.aggregations.counts&&t.aggregations.counts.buckets&&t.aggregations.counts.buckets.length>0){for(var a=t.aggregations.counts.buckets,o=0;o<a.length;o++){var n=a[o].doc_count;s.push(n)}_()}else{for(o=0;o<e.length;o++)s.push(0);_()}})}).catch(function(t){for(var a=0;a<e.length;a++)s.push(0);_()});var y=0;void 0===w&&firebase.database().ref("subscribers").child(n.id).once("value").then(function(a){var e=a.val(),s=[["name","email","date","raw date"]],o="data:text/csv;charset=utf-8,",n="<tbody>";if(null!==e){var i=Object.keys(e);if(null!==e){for(var d=0;d<i.length;d++){var l=e[i[d]];"object"==_typeof(l)&&(y++,n=n+"<tr><td>"+l.name+"</td><td>"+l.email+"</td><td>"+playht__getDate(l.created_at)+"</td></tr>",s.push([l.name,l.email,playht__getDate(l.created_at),l.created_at]))}s.forEach(function(t){var a=t.join(",");o+=a+"\r\n"})}}n+="</tbody>",0==y&&(t("#dashboard-subscribers-stats-loader").hide(),t("#zero-sub-modal").show());var r='\n\t\t\t\t\t\t<div id="_subscribers">\n\t\t\t\t\t\t\t<div id="_subscribers_info_head"><span>Name</span><span>Email</span><span>Subscription date</span></div>\n\t\t\t\t\t\t\t<table id="_subscribers_info">\n\t\t\t\t\t\t\t'+n+'</table>\n\t\t\t\t\t\t\t<a id="_subscribers-download" '+(0==y?'style="display:none;"':"")+' data-onclick="downloadSubscribers" href="#" class="button button--withChrome u-accentColor--buttonNormal">CSV Export</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t';t("#dashboard-subscribers-info-wrapper").html(r),t("#play-dash-sub-count").text(y),t("[data-onclick='downloadSubscribers']").on("click",function(t){var a=encodeURI(o),e=document.createElement("a");e.setAttribute("href",a),e.setAttribute("download","subscribers.csv"),document.body.appendChild(e),e.click()})}),t("#play-dashboard-sub-stats-date-picker-from").datepicker({dateFormat:"DD, dd MM yy",autoSize:!0,onSelect:function(e){var s=new Date(Date.parse(e));t("#play-dashboard-sub-stats-date-picker-to").datepicker("destroy"),t("#play-dashboard-sub-stats-date-picker-to").datepicker({minDate:s,autoSize:!0,dateFormat:"DD, dd MM yy",onSelect:function(e){var o=new Date(Date.parse(e)),n=o;n.setDate(n.getDate()-1),t("#play-dashboard-sub-stats-date-picker-from").datepicker("option","maxDate",n),s.setHours(2),o.setHours(25),o.setMinutes(59),o.setSeconds(59),w=s.toISOString().split(".")[0]+"Z",S=o.toISOString().split(".")[0]+"Z",a()}});var o=t("#play-dashboard-sub-stats-date-picker-to").datepicker("getDate");if(null==o){var n=new Date,i=n;i.setDate(i.getDate()-1),t("#play-dashboard-sub-stats-date-picker-from").datepicker("option","maxDate",i),n.setHours(25),n.setMinutes(59),n.setSeconds(59),t("#play-dashboard-sub-stats-date-picker-to").datepicker("setDate",n),w=s.toISOString().split(".")[0]+"Z",S=n.toISOString().split(".")[0]+"Z",a()}else s.setHours(2),o.setHours(25),o.setMinutes(59),o.setSeconds(59),w=s.toISOString().split(".")[0]+"Z",S=o.toISOString().split(".")[0]+"Z",a();t("#play-dashboard-sub-stats-date-picker-to").datepicker("option","disabled",!1)}}),t("#play-dashboard-sub-stats-date-picker-to").datepicker({dateFormat:"DD, dd MM yy",autoSize:!0}),t("#play-dashboard-sub-stats-date-picker-to").datepicker("option","disabled",!0)}}();var O="",P=[],L=[],j=0,N=[],U=0,V=[],H=0,J=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],F=function(){0!=L.length&&0!=N.length&&0!=V.length&&firebase.database().ref("articleData").orderByChild("userId").equalTo(n.id).once("value").then(function(a){var e=a.val(),s="",o=Object.keys(e);if(null!==e){s="<ul>",s+='\n\t\t\t\t\t\t<li data-onclick="resetStats" data-title="Show stats for a specific article" data-id="">\n\t\t\t\t\t\t\t<div class="_art" data-onclick="resetStats" data-title="Show stats for a specific article" data-id="">\n\t\t\t\t\t\t\t\t<div class="_tt" data-onclick="resetStats" data-title="Show stats for a specific article" data-id="">All articles</div>\n\t\t\t\t\t\t\t\t<div class="_vc" data-onclick="resetStats" data-title="Show stats for a specific article" data-id="">Show stats for all articles</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t';for(var n=0;n<o.length;n++){var i=e[o[n]].voice;void 0!==i&&""!=i&&null!=i&&void 0!==PLAYHT__VOICES_NAMES[i]||(i="...");var d=e[o[n]].title;s=s+'\n\t\t\t\t\t\t\t<li data-onclick="resetStats" data-voice="'+PLAYHT__VOICES_NAMES[i]+'" data-title="'+d+'" data-id="'+e[o[n]].id+'">\n\t\t\t\t\t\t\t\t<div class="_art" data-voice="'+PLAYHT__VOICES_NAMES[i]+'" data-onclick="resetStats" data-title="'+d+'" data-id="'+e[o[n]].id+'">\n\t\t\t\t\t\t\t\t\t<div class="_tt" data-voice="'+PLAYHT__VOICES_NAMES[i]+'" data-onclick="resetStats" data-title="'+d+'" data-id="'+e[o[n]].id+'">'+d+'</div>\n\t\t\t\t\t\t\t\t\t<div class="_vc" data-voice="'+PLAYHT__VOICES_NAMES[i]+'" data-onclick="resetStats" data-title="'+d+'" data-id="'+e[o[n]].id+'">'+PLAYHT__VOICES_NAMES[i]+'</div>\n\t\t\t\t\t\t\t\t\t<div class="_ul" data-voice="'+PLAYHT__VOICES_NAMES[i]+'" data-onclick="resetStats" data-title="'+d+'" data-id="'+e[o[n]].id+'">'+e[o[n]].url+"</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t"}s+="</ul>"}var l='\n\t\t\t\t\t<div class="jq-dropdown-panel" style="padding: 0;max-height: 300px;overflow-y: auto;">\n\t\t\t\t\t\t<div class="play-dropdown-title">Showing analytics for all posts</div>\n\t\t\t\t\t\t'+s+"\n\t\t\t\t\t</div>\n\t\t\t\t";t("#jq-dropdown-stats-article").html(l),t("[data-onclick='resetStats']").on("click",function(a){a.target.dataset.id!=O?(t("._article-selector")[0].innerText=a.target.dataset.title,t("._article-selector")[0].click(),O=a.target.dataset.id,a.target.dataset.title,a.target.dataset.voice,R(),t("#dashboard-stats-loader").show()):t("._article-selector")[0].click()}),z()})},z=function(){if(t("#dashboard-stats-loader").hide(),0!=L.length&&0!=N.length&&0!=V.length){t("#play-dashboard-tab-3 span").remove(),t("#date-selectors-wrapper").show(),Highcharts.chart("dashboard-stats",{chart:{type:"area",spacingBottom:15,spacingTop:10,height:500,width:t(".dashboard-container").width()-.1*t(".dashboard-container").width(),backgroundColor:"#fff"},accessibility:{description:""},title:{text:""},xAxis:{categories:P,gridLineWidth:1},yAxis:{gridLineWidth:1,title:""},plotOptions:{series:{fillOpacity:.2}},series:[{name:"Listens",data:L,color:"#108A5C"},{name:"Shares",data:N,color:"#4d3f7a"},{name:"Downloads",data:V,color:"#FB6340"}]});var a=document.createElement("div");a.classList.add("total-counts"),a.innerHTML='\n\t\t\t\t<div class="_count_box_wrapper">\n\t\t\t\t\t<div class="_count_box">\n\t\t\t\t\t\t<p class="_count">'+j+'</p>\n\t\t\t\t\t\t<p class="_word">Listens</p> <span class="t-top t-xl full-width audio-info" data-tooltip="The number of times your posts have been listened."><i class="playht-icon-info-circled"></i></span>\n\t\t\t\t\t\t<p class="_point _point_listens"></p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="_count_box">\n\t\t\t\t\t\t<p class="_count">'+U+'</p>\n\t\t\t\t\t\t<p class="_word">Shares</p> <span class="t-top t-xl full-width audio-info" data-tooltip="The number of times the audio of your posts has been shared."><i class="playht-icon-info-circled"></i></span>\n\t\t\t\t\t\t<p class="_point _point_listeningtime"></p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="_count_box">\n\t\t\t\t\t\t<p class="_count">'+H+'</p>\n\t\t\t\t\t\t<p class="_word">Downloads</p> <span class="t-top t-xl audio-info full-width" data-tooltip="The number of times the audio of your posts has been downloaded."><i class="playht-icon-info-circled"></i></span>\n\t\t\t\t\t\t<p class="_point _point_downloads"></p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>',t("#play-dashboard-tab-3 .total-counts").remove(),document.getElementById("date-selectors-wrapper").insertAdjacentElement("afterEnd",a),t("[data-onclick='csv']").on("click",function(t){for(var a=[["date","listens","shares","downloads"]],e=0;e<P.length;e++)a[e+1]=[P[e],L[e],N[e],V[e]];var s="data:text/csv;charset=utf-8,";a.forEach(function(t){var a=t.join(",");s+=a+"\r\n"});var o=encodeURI(s),n=document.createElement("a");n.style.display="none",n.setAttribute("href",o),n.setAttribute("download","output.csv"),document.body.appendChild(n),n.click()})}},R=function(){void 0!==C&&t("#dashboard-stats-loader").show();var a=[C,T];if(void 0===C){var e=(new Date).toISOString().split(".")[0]+"Z",s=new Date;s.setDate(s.getDate()-27),s=s.toISOString().split(".")[0]+"Z",a=[s,e]}var o=new Date(a[1])-new Date(a[0]),i=Math.round(o/864e5);P=[];var d=new Date(a[0]);P.push(d.getDate().toString()+"-"+J[d.getMonth()]);for(var l=1;l<=i;l++)d.setDate(d.getDate()+1),P.push(d.getDate().toString()+"-"+J[d.getMonth()]);L=[],j=0,N=[],U=0,V=[],H=0;var r=function(e){var s=a[0].split("T")[0],o=a[1].split("T")[0];C&&((s=new Date(a[0])).setDate(s.getDate()+1),s=s.toISOString().split("T")[0],(o=new Date(a[1])).setDate(o.getDate()+1),o=o.toISOString().split("T")[0]),n.appId&&t.get("https://a.play.ht/"+e+"/"+(O?"article/":"/")+"?app_id="+n.appId+"&created_at__gte="+s+"&created_at__lte="+o+(O?"&article_id="+O:"")).done(function(t){if(t.aggregations&&t.aggregations.counts&&t.aggregations.counts.buckets&&t.aggregations.counts.buckets.length>0){for(var a=t.aggregations.counts.buckets,s=0;s<a.length;s++){var o=a[s].doc_count;"listens"==e&&(L.push(o),j+=o),"shares"==e&&(N.push(o),U+=o),"downloads"==e&&(V.push(o),H+=o)}F()}else{if("listens"==e){for(s=0;s<P.length;s++)L.push(0);return void F()}if("shares"==e){for(s=0;s<P.length;s++)N.push(0);return void F()}if("downloads"==e){for(s=0;s<P.length;s++)V.push(0);return void F()}}}).fail(function(t){if("listens"!=e)if("shares"!=e)if("downloads"!=e);else{for(a=0;a<P.length;a++)V.push(0);F()}else{for(var a=0;a<P.length;a++)N.push(0);F()}else{for(var a=0;a<P.length;a++)L.push(0);F()}})};r("listens"),r("shares"),r("downloads")};s?R():(B='\n\t\t\t\t<div class="_stats_unavalibale_head">\n\t\t\t\t\t<div class="_title">Stats are available to paid members only.</div>\n\t\t\t\t\t<div class="_meta">Please upgrade to get access to your stats</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="_stats_unavalibale_body">\n\t\t\t\t\t<div class="_title">With stats you can see the following information about your articles:</div>\n\t\t\t\t\t<div class="_meta">\n\t\t\t\t\t\t<div class="_meta_t">Listens</div>\n\t\t\t\t\t\t<div class="_meta_m">The number of times your articles were listened.</div>\n\t\t\t\t\t\t<div class="_meta_t">Downloads</div>\n\t\t\t\t\t\t<div class="_meta_m">The number of times your articles were downloaded as audio files.</div>\n\t\t\t\t\t\t<div class="_meta_t">Shares</div>\n\t\t\t\t\t\t<div class="_meta_m">The number of times your articles were shared as audio on Twitter or Facebook.</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="_act">\n\t\t\t\t\t\t<a target="_blank" data-onclick="statsUpgrade" class="medium-button medium-button--primary medium-button--filled medium-button--withChrome u-accentColor-- buttonNormal is-touched" href="https://play.ht/wordpress/upgrade/">\n\t\t\t\t\t\tUpgrade Account\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t',t("#play-dashboard-tab-3").html(B),t("[data-onclick='statsUpgrade']").on("click",function(t){window.__playht__analytics&&window.__playht__analytics("playTracker.send","event","click","dashboard_stats_upgrade_clicked",e,{dimension2:"".concat(a," - ").concat(e)})}));s&&(t("#play-dashboard-stats-date-picker-from").datepicker({dateFormat:"DD, dd MM yy",autoSize:!0,onSelect:function(a){var e=new Date(Date.parse(a));t("#play-dashboard-stats-date-picker-to").datepicker("destroy"),t("#play-dashboard-stats-date-picker-to").datepicker({minDate:e,autoSize:!0,dateFormat:"DD, dd MM yy",onSelect:function(a){var s=new Date(Date.parse(a)),o=s;o.setDate(o.getDate()-1),t("#play-dashboard-stats-date-picker-from").datepicker("option","maxDate",o),e.setHours(2),s.setHours(25),s.setMinutes(59),s.setSeconds(59),C=e.toISOString().split(".")[0]+"Z",T=s.toISOString().split(".")[0]+"Z",R()}});var s=t("#play-dashboard-stats-date-picker-to").datepicker("getDate");if(null==s){var o=new Date,n=o;n.setDate(n.getDate()-1),t("#play-dashboard-stats-date-picker-from").datepicker("option","maxDate",n),o.setHours(25),o.setMinutes(59),o.setSeconds(59),t("#play-dashboard-stats-date-picker-to").datepicker("setDate",o),C=e.toISOString().split(".")[0]+"Z",T=o.toISOString().split(".")[0]+"Z",R()}else e.setHours(2),s.setHours(25),s.setMinutes(59),s.setSeconds(59),C=e.toISOString().split(".")[0]+"Z",T=s.toISOString().split(".")[0]+"Z",R();t("#play-dashboard-stats-date-picker-to").datepicker("option","disabled",!1)}}),t("#play-dashboard-stats-date-picker-to").datepicker({dateFormat:"DD, dd MM yy",autoSize:!0}),t("#play-dashboard-stats-date-picker-to").datepicker("option","disabled",!0))}(i),void 0!==i.usage&&void 0!==i.usage.words_count&&(o+=Number(i.usage.words_count)),void 0!==i.usage&&void 0!==i.usage.appsumo_words&&(o+=Number(i.usage.appsumo_words)),void 0!==i.usage&&void 0!==i.usage.words_count?(t("#play-dashbaord-credits").text(o),o=Number(i.usage.words_count)):o=0)})}});